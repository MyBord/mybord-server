(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1055:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(783),a=n(259),i=n(179),l=n(254),c=n(71),s=n(70),u=n(260),m=n(17),d=n(103),f=n(788),p=function(e){var t=e.form,n=e.setCanDelete,o="delete-account-input-confirm",a=t.getFieldValue(o);return r.useEffect((function(){a&&"delete"===a.toLowerCase()?n(!0):n(!1)}),[a]),r.createElement(l.a,{fieldName:o,form:t},r.createElement(f.a,{color:"red"}))},A=n(995),g=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},y=function(){var e=Object(s.b)(d.b)[0],t=Object(c.b)().setModalId,n=r.useState(!1),o=n[0],l=n[1],f=r.useState(!1),y=f[0],v=f[1],b=r.useState(!1),C=b[0],E=b[1];return r.createElement(u.a,{id:"user-settings-delete-account-modal",title:"Delete Account"},r.createElement("div",{className:A.container},r.createElement("div",{className:A.typographyContainer},r.createElement(m.a,{color:"red",text:"Are you sure you want to delete your account?"}),r.createElement(m.a,{color:"red",text:'Please type "delete" to confirm:'})),r.createElement(a.a,null,r.createElement(p,{setCanDelete:l})),r.createElement("div",{className:A.buttonDiv},r.createElement(i.a,{color:"red",disabled:!o,label:"Delete My Account",isWaiting:y&&!C,onClick:function(){return g(void 0,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return v(!0),[4,e()];case 1:return n.sent(),E(!0),t(null),window.location.href="/",[2]}}))}))}}))))},v=function(e){var t=e.form,n=Object(c.b)().setModalId;return r.createElement(r.Fragment,null,r.createElement(l.a,{fieldName:"add-card-url-input",form:t,required:!0,requiredMessage:"A url is required"},r.createElement(i.a,{color:"red",label:"Delete Account",onClick:function(){return n("user-settings-delete-account-modal")}})),r.createElement(y,null))},b=function(){return r.createElement(a.a,{layout:"horizontal"},r.createElement(v,null))},C=n(997);t.default=Object(o.a)({Component:function(){return r.createElement("section",{className:C.section},r.createElement(b,null))}})},783:function(e,t,n){"use strict";var r=n(0),o=n(785),a=n(786),i=n.n(a),l=function(e){var t,n="pending",r=e.then((function(e){n="success",t=e}),(function(e){n="error",t=e}));return{read:function(){if("pending"===n)throw r;if("error"===n)throw t;if("success"===n)return t}}},c=function(e){var t=function(e){return new Promise((function(t){var n=JSON.stringify({query:e.loc.source.body});i.a.post("https://mybord.io/graphql",n,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(e){return t(e.data.data)}))}))}(e);return{data:l(t)}},s=n(107);t.a=function(e){var t=e.Component,n=e.gqlString,a=e.setHydration,i=void 0===a||a;if(!n){return function(){var e=Object(s.b)(),n=e.isAnimationComplete,o=e.setHydrationStatus;return r.useEffect((function(){i&&o(!0)}),[o]),n?r.createElement(t,null):null}}var l=c(n),u=function(e){var n=e.isAnimationComplete,o=e.setHydrationStatus,a=l.data.read();return r.useEffect((function(){i&&o(!0)}),[o]),n?r.createElement(t,{data:a}):null};return function(){var e=Object(s.b)(),t=e.isAnimationComplete,n=e.isHydrated,a=e.setHydrationStatus;return r.createElement(r.Suspense,{fallback:n&&r.createElement(o.a,null)},r.createElement(u,{isAnimationComplete:t,setHydrationStatus:a}))}}},995:function(e,t,n){var r=n(996);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(16)(r,o);r.locals&&(e.exports=r.locals)},996:function(e,t,n){(t=e.exports=n(15)(!0)).push([e.i,".buttonDiv___2YKln {\n  margin-top: 1rem;\n}\n.container___3zCdp {\n  margin-top: 1rem;\n}\n.typographyContainer___3vO_g {\n  margin-bottom: 1rem;\n}\n","",{version:3,sources:["/Users/jemery/dev/mybord-client/src/spa/app/pages/userSettingsPage/userSettingsPageForm/deleteAccountModal/deleteAccountModal.module.less"],names:[],mappings:"AAAA;EACE,iBAAiB;CAClB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,oBAAoB;CACrB",file:"deleteAccountModal.module.less",sourcesContent:[".buttonDiv {\n  margin-top: 1rem;\n}\n.container {\n  margin-top: 1rem;\n}\n.typographyContainer {\n  margin-bottom: 1rem;\n}\n"],sourceRoot:""}]),t.locals={buttonDiv:"buttonDiv___2YKln",container:"container___3zCdp",typographyContainer:"typographyContainer___3vO_g"}},997:function(e,t,n){var r=n(998);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(16)(r,o);r.locals&&(e.exports=r.locals)},998:function(e,t,n){(t=e.exports=n(15)(!0)).push([e.i,"/* stylelint-disable */\n/* stylelint-enable */\n.section___3qe-9 {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  margin: 5rem 0 0 calc(1rem + 1rem);\n  width: 100%;\n}\n","",{version:3,sources:["/Users/jemery/dev/mybord-client/src/spa/app/pages/userSettingsPage/userSettingsPage.module.less"],names:[],mappings:"AAAA,uBAAuB;AAWvB,sBAAsB;AACtB;EACE,cAAc;EACd,uBAAuB;EACvB,aAAa;EACb,mCAAmC;EACnC,YAAY;CACb",file:"userSettingsPage.module.less",sourcesContent:["/* stylelint-disable */\n:export {\n  caretSize: 0.625rem;\n  footerListMargin: 3rem;\n  footerLogoSize: 5rem;\n  headerHeight: 3rem;\n  headerMarginTop: 2.5rem;\n  navWidth: 5rem;\n  stackCardSize: 7rem;\n  toastWidth: 24.5rem;\n}\n/* stylelint-enable */\n.section {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  margin: 5rem 0 0 calc(1rem + 1rem);\n  width: 100%;\n}\n"],sourceRoot:""}]),t.locals={caretSize:"0.625rem",footerListMargin:"3rem",footerLogoSize:"5rem",headerHeight:"3rem",headerMarginTop:"2.5rem",navWidth:"5rem",stackCardSize:"7rem",toastWidth:"24.5rem",section:"section___3qe-9"}}}]);
//# sourceMappingURL=13.bundle.js.map